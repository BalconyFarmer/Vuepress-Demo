(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{372:function(a,s,t){"use strict";t.r(s);var e=t(45),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"部署文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署文档"}},[a._v("#")]),a._v(" 部署文档")]),a._v(" "),t("h2",{attrs:{id:"环境安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境安装"}},[a._v("#")]),a._v(" 环境安装")]),a._v(" "),t("h3",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[a._v("#")]),a._v(" Nginx")]),a._v(" "),t("p",[a._v("1.安装gcc gcc是用来编译下载下来的nginx源码")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" gcc-c++\n")])])]),t("p",[a._v("2.安装pcre和pcre-devel\nPCRE(Perl Compatible Regular Expressions) 是一个Perl库，包括 perl 兼容的正则表达式库。"),t("br"),a._v("\nnginx 的 http 模块使用 pcre 来解析正则表达式，pcre-devel 是使用 pcre 开发的一个二次开发库。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y pcre pcre-devel\n")])])]),t("p",[a._v("3.安装zlib zlib提供了很多压缩和解方式，nginx需要zlib对http进行gzip")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y zlib zlib-devel\n")])])]),t("p",[a._v("4.安装openssl openssl是一个安全套接字层密码库，nginx要支持https，需要使用openssl")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y openssl openssl-devel\n")])])]),t("p",[a._v("5.下载nginx")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" http://nginx.org/download/nginx-1.18.0.tar.gz\n")])])]),t("p",[a._v("6.解压")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxvf nginx-1.18.0.tar.gz -C  /usr/local\n")])])]),t("p",[a._v("7.cd到文件路劲,下的是什么版本就到哪个版本下面")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /usr/local/nginx-1.18.0\n")])])]),t("p",[a._v("8.编译")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("./configure --prefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr --sbin-path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/sbin/nginx --conf-path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/etc/nginx/nginx.conf --error-log-path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/log/nginx/error.log --pid-path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/run/nginx/nginx.pid --lock-path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/lock/nginx.lock --user"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("nginx --group"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("nginx --with-http_ssl_module --with-http_flv_module --with-http_gzip_static_module --http-log-path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/log/nginx/access.log --http-client-body-temp-path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/tem/nginx/client --http-proxy-temp-path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/tem/nginx/proxy --http-fastcgi-temp-path"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/tem/nginx/fcgi --with-http_stub_status_module\n")])])]),t("p",[a._v("9.安装")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),t("p",[a._v("10.启动")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("nginx -c /etc/nginx/nginx.conf\n")])])]),t("ol",{attrs:{start:"11"}},[t("li",[a._v('如果出现[emerg] getpwnam("nginx") failed 错误 执行')])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("useradd")]),a._v(" -s /sbin/nologin -M nginx\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("id")]),a._v(" nginx\n")])])]),t("p",[a._v('12.如果出现 [emerg] mkdir() "/var/temp/nginx/client" failed (2: No such file or directory) 错误 执行')]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /var/tem/nginx/client\n")])])]),t("p",[a._v("13.如果您正在运行防火墙，请运行以下命令以允许HTTP和HTTPS通信")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" firewall-cmd --permanent --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http \n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" firewall-cmd --permanent --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("https\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" firewall-cmd --reload\n")])])]),t("p",[a._v("14.nginx 重启"),t("br"),a._v(" "),t("strong",[a._v("进入nginx可执行目录sbin下，输入命令./nginx -s reload 即可")])]),a._v(" "),t("h3",{attrs:{id:"java环境安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java环境安装"}},[a._v("#")]),a._v(" JAVA环境安装")]),a._v(" "),t("p",[a._v("1.验证是否有了java环境")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("java -version\n")])])]),t("p",[a._v("如果是未找到命令就是没有安装")]),a._v(" "),t("p",[a._v("2.上官网下载jdk")]),a._v(" "),t("p",[a._v("现在的JDK需要登录Orlcle才能下载,先上官网")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html",target:"_blank"}},[a._v("https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html")])]),a._v(" "),t("img",{attrs:{src:a.$withBase("/img/java.png")}}),a._v(" "),t("p",[a._v("找到这个版本下载, 先登录oracle账号,没有的注册一个,登录成功之后就会跳到下载界面")]),a._v(" "),t("p",[a._v("3.解压安装")]),a._v(" "),t("p",[a._v("安装目录:  /usr/local"),t("br"),a._v("\n解压"),t("br")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" zxvf jdk-8u271-linux-x64.tar.gz -C /usr/local/\n")])])]),t("p",[a._v("tar命令是用来解压压缩包的, -C 参数, 是直接压缩到哪个目录上, 这里我解压到/usr/local上面")]),a._v(" "),t("p",[a._v("4.配置环境变量\n编辑 vim /etc/profile"),t("br"),a._v("\n在这个全局环境文件最后追加下面的内容")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/jdk1.8.0_271\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CLASSPATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(".:"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${JAVA_HOME}")]),a._v("/jre/lib/rt.jar:"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${JAVA_HOME}")]),a._v("/lib/dt.jar:"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${JAVA_HOME}")]),a._v("/lib/tools.jar\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${JAVA_HOME}")]),a._v("/bin\n")])])]),t("p",[a._v("然后wq!保存退出")]),a._v(" "),t("p",[a._v("6.刷新环境变量")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /etc/profile\n")])])]),t("p",[a._v("7.查看JDK是否已经生效")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("java -version\n")])])]),t("img",{attrs:{src:a.$withBase("/img/java-version.png")}}),a._v("\n这样就是已经成功了!!\n")])}),[],!1,null,null,null);s.default=n.exports}}]);